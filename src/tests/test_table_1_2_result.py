from ..main import convert_all_content_to_dict


def test_convert_all_content_to_dict():
    sheet_names = ['Table 1', 'Table 2']
    test_result = {'sheet': ['Table 1 / Table 2'], 'tipificacao_resumida': ['Iniciar obra perturbe/interrompa circulação/segurança veíc/pedestre s/permissão.'], 'codigo_enquadramento': ['751-01'], 'amparo_legal': ['Art. 95.'], 'tipificacao_enquadramento': ['Nenhuma obra ou evento que possa perturbar ou interromper a livre circulação de veículos e pedestres, ou colocar em risco sua segurança, será iniciada sem permissão prévia do órgão ou entidade de trânsito com circunscrição sobre a via.'], 'gravidade': ['Não aplicável'], 'penalidade': ['Multa'], 'medida_administrativa': ['Não aplicável'], 'pode_configurar_crime_transito': ['NÃO'], 'infrator': ['Pessoa Física ou Jurídica'], 'competencia': ['Órgão ou Entidade de Trânsito Municipal e Rodoviário.'], 'pontuacao': ['Não computável'], 'constatacao_infracao': ['Mediante Abordagem.'], 'quando_autuar': ['1. Responsável que iniciar obra que possa perturbar ou interromper a livre circulação ou possa colocar em risco a segurança de veículos e pedestres, sem permissão prévia ou em desacordo com ela,  do órgão ou entidade de trânsito com circunscrição sobre a via.'], 'quando_nao_autuar': ['1. Quando houver permissão prévia da autoridade competente e a obra ocorrer nos termos da permissão concedida. 2. Se for evento que possa perturbar ou interromper a livre circulação ou possa colocar em risco a segurança de veículos e pedestres, sem permissão, ou em desacordo com esta, utilizar enquadramento específico: 751-02, art. 95.'], 'definicoes_procedimentos': ['1. Esta infração é de responsabilidade de pessoa física ou jurídica, sem a utilização de veículos. 2. Art. 95 § 1º A obrigação de sinalizar é do responsável pela execução ou manutenção da obra ou do evento. 3. O responsável pela execução da obra é o seu proprietário ou executor. 4. Sempre que possível, o agente de trânsito deverá identificar o infrator, no ato da autuação. Caso isto não seja possível, a identificação poderá ser feita mediante diligência complementar em momento posterior. 5. O agente deve, sempre que possível, adotar medidas efetivas para assegurar a livre circulação e segurança. 6. Caberá à autoridade de trânsito com circunscrição sobre a via, normatizar os critérios objetivos para determinar o valor da multa, dentro dos limites previstos no CTB, considerando a gravidade da situação e o impacto na segurança e na fluidez no trânsito.'], 'exemplos_campo_observacoes_ait': ['1. Colocação de tapume sobre o passeio, prejudicando a circulação de pedestres, sem permissão.'], 'informacoes_complementares': ['1 . Os art. 95, caput e 95, § 1º tratam de duas situações distintas, embora relacionadas, com dois fatos geradores diferenciados: o pedido de autorização para a obra/evento e a sinalização devida para esta obra/evento. Sendo assim, temos aqui um caso de duas infrações concomitantes. 2. A autuação por este artigo não elide a responsabilização cível ou penal do condutor, nos termos do art.  95, § 3º da Lei nº 9.503/1997 - Código de Trânsito Brasileiro.']}
    new_df_dict = convert_all_content_to_dict(sheet_names)
    assert new_df_dict == test_result
